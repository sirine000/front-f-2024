
<div class="d-flex justify-content-between ">
<!-- <section> -->
    <app-header class="col-2"></app-header>
    <!-- </section> -->
<div class="container col-10 " style="position: relative;top:155vh;" >
<section class="card-area pb-5">

  <div class="container">

     <div class="row justify-content-center">

        <div class="col-lg-4 col-md-7 col-sm-9" *ngFor="let liste of listecycle">
           <div class="single-card card-style-one">
              <div class="card-image">
                 <!-- <img src="./../../assets/images/java.jpg" alt="Image" /> -->
              </div>
           <div class="container">

              <div class="card-content">
                 <h4 class="card-title">
                  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                  <p class="idd"><strong class="cen">ID : {{liste.id}}</strong></p>
                  <p> <strong>Nom :</strong>
                     {{liste.nom_cycle_de_formation}}</p>
                 </h4>



                 <p class="text"><strong>Description :</strong>
                  {{liste.description}}</p>
                <p><strong>Prix :</strong> {{liste.prix}}</p>
                <p><strong>Date Début :</strong> {{liste.dateDebut}}</p>
                 <p><strong>Date Fin :</strong> {{liste.dateFin}}</p>
                 <p *ngIf="liste.formateur"><strong>nom de formateur :</strong> {{liste.formateur.nomEtPrenom}}</p><br><br>
                 <div class="container" class="con">
                  <p><strong>Nom de cours :</strong> {{liste.nom_cycle_de_formation}}</p>
                 <p *ngIf="liste.formateurs"><strong>Les cours ajoutés :</strong> {{liste.formateurs.nomEtPrenom}}</p>
                </div>
<br><br>

                 <!-- <p ><strong>Formateur :</strong>{{onOptionSelected(nom_prof)}}</p> -->
                 <!-- &nbsp;&nbsp;&nbsp;  -->
                 <!-- <button class="button"><a href="modifierCycle">modifier</a> </button> &nbsp;  <button  class="button" (click)="supprimercycle(liste.id)">supprimer</button> -->

                 <button class="button" (click)="openUpdateModal(liste)">Modifier </button> &nbsp;
                 <button  class="button"(click)="confirmdelete(liste)">Supprimer</button> &nbsp;
                 <!-- <button  class="button"><a (click)="confirmdelete(liste)"> Détails</a></button> -->


              </div>

           </div>

        </div>

      </div>


</div></div></section>
</div>

 <div class="modal fade" id="deleteModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered" role="document">
    <div class="modal-content">
      <div class="modal-header font-bold">
        <h5 class="modal-title">Confirmation de suppression</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">
        <p>Vous êtes sûr de vouloir supprimer ?</p>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal" (click)="deletec()">Oui</button>
        <button type="button" class="btn btn-danger" (click)="closeDelete()">Non</button>
      </div>
    </div>
  </div>
</div>

<div class="modal fade" id="updateModal" tabindex="-1" role="dialog" aria-labelledby="updateModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="updateModalLabel">Modifier le Cycle</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">
        <form [formGroup]="updateForm" (ngSubmit)="onSubmitUpdate()">
          <div class="mb-3">
            <label for="nomCycle" class="form-label">Nom du Cycle</label>
            <input type="text" id="nomCycle" class="form-control" formControlName="nom_cycle_de_formation">
          </div>
          <div class="mb-3">
            <label for="description" class="form-label">Description</label>
            <textarea id="description" class="form-control" formControlName="description"></textarea>
          </div>
          <div class="mb-3">
            <label for="prix" class="form-label">Prix</label>
            <input type="number" id="prix" class="form-control" formControlName="prix">
          </div>
          <div class="mb-3">
            <label for="dateDebut" class="form-label">Date Début</label>
            <input type="date" id="dateDebut" class="form-control" formControlName="dateDebut">
          </div>
          <div class="mb-3">
            <label for="dateFin" class="form-label">Date Fin</label>
            <input type="date" id="dateFin" class="form-control" formControlName="dateFin">
          </div>
          <div class="mb-3">
            <label for="formateur" class="form-label">Formateur</label>
              <select id="formateur" class="form-control" formControlName="idFormateur">
              <option *ngFor="let formateur of formateurs" [value]="formateur.id_formateur">{{formateur.nomEtPrenom}}</option>
            </select>
          </div>
           <div class="mb-3 d-none">
            <label for="idFormateur" class="form-label">id formateur</label>
            <input type="text" id="idFormateur" class="form-control" formControlName="idFormateur">
          </div>
           <div class="modal-footer">
          <button type="submit" class="btn btn-primary">Enregistrer</button>
          <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Annuler</button>
          </div>
        </form>
      </div>
    </div>
  </div>
</div>

</div>

